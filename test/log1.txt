[20.05.2013 - 10:44:18][!WARNING!] - Array
[20.05.2013 - 10:44:18][!WARNING!] - 
					select borrow_user_id,GROUP_CONCAT(b.title SEPARATOR ',' ) ,u.email,
					GROUP_CONCAT(b.id SEPARATOR ',' )
					from book b
					left join user u on b.borrow_user_id = u.id 
					where 
					state = 3 and 
					id in ('2') and 
					devote_id =1 and 
					borrow_user_id is not null
					group by borrow_user_id
				
[20.05.2013 - 10:44:18][!WARNING!] - exception 'Exception' with message 'Column 'id' in where clause is ambiguous' in /Users/lcjun/bbm.up2run.com/config.inc.php:160
Stack trace:
#0 /Users/lcjun/bbm.up2run.com/config.inc.php(131): DB->db_check(false)
#1 /Users/lcjun/bbm.up2run.com/config.inc.php(324): DB->query('??????select bo...')
#2 /Users/lcjun/bbm.up2run.com/book_return_cart.php(18): Book->return_confirm(Array, '1')
#3 {main}
[20.05.2013 - 10:44:18][!WARNING!] - select count(1) from (
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		) balias
[20.05.2013 - 10:44:18][!WARNING!] - 
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		 limit 0,10
[20.05.2013 - 10:44:54][!WARNING!] - Array
[20.05.2013 - 10:44:54][!WARNING!] - 
					select borrow_user_id,GROUP_CONCAT(b.title SEPARATOR ',' ) ,u.email,
					GROUP_CONCAT(b.id SEPARATOR ',' )
					from book b
					left join user u on b.borrow_user_id = u.id 
					where 
					state = 3 and 
					b.id in ('2') and 
					devote_id =1 and 
					borrow_user_id is not null
					group by borrow_user_id
				
[20.05.2013 - 10:44:54][!WARNING!] - return_confirm_all:1000copy@gmail.com,追风筝的人,from 
[20.05.2013 - 10:44:54][!WARNING!] - select notify from user where email ='1000copy@gmail.com'
[20.05.2013 - 10:44:54][!WARNING!] - books:Array
[20.05.2013 - 10:44:54][!WARNING!] - 
					insert into borrow (devote_user_id,borrow_user_id,is_return)
					values(1,1,1)
[20.05.2013 - 10:44:54][!WARNING!] - SELECT LAST_INSERT_ID()
[20.05.2013 - 10:44:54][!WARNING!] - 
						insert into borrow_detail(borrow_id,book_id)
						values(7,2)
[20.05.2013 - 10:44:54][!WARNING!] - update book set state = 0 ,borrow_user_id = null 
						where state = 3 and devote_id ='1'
[20.05.2013 - 10:44:54][!WARNING!] - select count(1) from (
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		) balias
[20.05.2013 - 10:44:54][!WARNING!] - 
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		 limit 0,10
[20.05.2013 - 10:44:57][!WARNING!] - select title from book where id='2'
[20.05.2013 - 10:44:57][!WARNING!] - select id from  book where id='2' 
[20.05.2013 - 10:44:57][!WARNING!] - update book set state = 1,borrow_user_id =1  where id=2
[20.05.2013 - 10:45:19][!WARNING!] - select count(1) from (
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		) balias
[20.05.2013 - 10:45:19][!WARNING!] - 
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		 limit 0,10
[20.05.2013 - 10:45:25][!WARNING!] - select title from book where id=''
[20.05.2013 - 10:45:25][!WARNING!] - exception 'Exception' in /Users/lcjun/bbm.up2run.com/config.inc.php:160
Stack trace:
#0 /Users/lcjun/bbm.up2run.com/config.inc.php(149): DB->db_check(0)
#1 /Users/lcjun/bbm.up2run.com/config.inc.php(152): DB->num_rows(Resource id #9)
#2 /Users/lcjun/bbm.up2run.com/book_borrow.php(10): DB->is_empty(Resource id #9)
#3 {main}
[20.05.2013 - 10:45:31][!WARNING!] - select title from book where id=''
[20.05.2013 - 10:45:31][!WARNING!] - exception 'Exception' in /Users/lcjun/bbm.up2run.com/config.inc.php:160
Stack trace:
#0 /Users/lcjun/bbm.up2run.com/config.inc.php(149): DB->db_check(0)
#1 /Users/lcjun/bbm.up2run.com/config.inc.php(152): DB->num_rows(Resource id #9)
#2 /Users/lcjun/bbm.up2run.com/book_borrow.php(10): DB->is_empty(Resource id #9)
#3 {main}
[20.05.2013 - 10:45:34][!WARNING!] - select title from book where id=''
[20.05.2013 - 10:45:34][!WARNING!] - exception 'Exception' in /Users/lcjun/bbm.up2run.com/config.inc.php:160
Stack trace:
#0 /Users/lcjun/bbm.up2run.com/config.inc.php(149): DB->db_check(0)
#1 /Users/lcjun/bbm.up2run.com/config.inc.php(152): DB->num_rows(Resource id #9)
#2 /Users/lcjun/bbm.up2run.com/book_borrow.php(10): DB->is_empty(Resource id #9)
#3 {main}
[20.05.2013 - 10:45:44][!WARNING!] - select title from book where id=''
[20.05.2013 - 10:45:44][!WARNING!] - exception 'Exception' in /Users/lcjun/bbm.up2run.com/config.inc.php:160
Stack trace:
#0 /Users/lcjun/bbm.up2run.com/config.inc.php(149): DB->db_check(0)
#1 /Users/lcjun/bbm.up2run.com/config.inc.php(152): DB->num_rows(Resource id #9)
#2 /Users/lcjun/bbm.up2run.com/book_borrow.php(10): DB->is_empty(Resource id #9)
#3 {main}
[20.05.2013 - 10:50:45][!WARNING!] - select title from book where id=''
[20.05.2013 - 10:50:45][!WARNING!] - exception 'Exception' in /Users/lcjun/bbm.up2run.com/config.inc.php:160
Stack trace:
#0 /Users/lcjun/bbm.up2run.com/config.inc.php(149): DB->db_check(0)
#1 /Users/lcjun/bbm.up2run.com/config.inc.php(152): DB->num_rows(Resource id #9)
#2 /Users/lcjun/bbm.up2run.com/book_borrow.php(10): DB->is_empty(Resource id #9)
#3 {main}
[20.05.2013 - 10:50:48][!WARNING!] - select title from book where id=''
[20.05.2013 - 10:50:48][!WARNING!] - exception 'Exception' in /Users/lcjun/bbm.up2run.com/config.inc.php:160
Stack trace:
#0 /Users/lcjun/bbm.up2run.com/config.inc.php(149): DB->db_check(0)
#1 /Users/lcjun/bbm.up2run.com/config.inc.php(152): DB->num_rows(Resource id #9)
#2 /Users/lcjun/bbm.up2run.com/book_borrow.php(10): DB->is_empty(Resource id #9)
#3 {main}
[20.05.2013 - 10:50:51][!WARNING!] - select title from book where id=''
[20.05.2013 - 10:50:51][!WARNING!] - exception 'Exception' in /Users/lcjun/bbm.up2run.com/config.inc.php:160
Stack trace:
#0 /Users/lcjun/bbm.up2run.com/config.inc.php(149): DB->db_check(0)
#1 /Users/lcjun/bbm.up2run.com/config.inc.php(152): DB->num_rows(Resource id #9)
#2 /Users/lcjun/bbm.up2run.com/book_borrow.php(10): DB->is_empty(Resource id #9)
#3 {main}
[20.05.2013 - 10:50:55][!WARNING!] - 
					select borrow_user_id,GROUP_CONCAT(b.title SEPARATOR ',' ) ,u.email,
					GROUP_CONCAT(b.id SEPARATOR ',' )
					from book b
					left join user u on b.borrow_user_id = u.id 
					where state = 1 and devote_id =1 and borrow_user_id is not null
					group by borrow_user_id
				
[20.05.2013 - 10:50:55][!WARNING!] - approved_all:1000copy@gmail.com,追风筝的人,from 1000copy@gmail.com
[20.05.2013 - 10:50:55][!WARNING!] - select notify from user where email ='1000copy@gmail.com'
[20.05.2013 - 10:50:55][!WARNING!] - books:Array
[20.05.2013 - 10:50:55][!WARNING!] - 
					insert into borrow (devote_user_id,borrow_user_id)
					values(1,1)
[20.05.2013 - 10:50:55][!WARNING!] - SELECT LAST_INSERT_ID()
[20.05.2013 - 10:50:55][!WARNING!] - 
						insert into borrow_detail(borrow_id,book_id)
						values(8,2)
[20.05.2013 - 10:50:55][!WARNING!] - update book set state = 3 where state = 1 and devote_id =1
[20.05.2013 - 10:50:57][!WARNING!] - select count(1) from (
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		) balias
[20.05.2013 - 10:50:57][!WARNING!] - 
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		 limit 0,10
[20.05.2013 - 10:51:00][!WARNING!] - Array
[20.05.2013 - 10:51:00][!WARNING!] - 
					select borrow_user_id,GROUP_CONCAT(b.title SEPARATOR ',' ) ,u.email,
					GROUP_CONCAT(b.id SEPARATOR ',' )
					from book b
					left join user u on b.borrow_user_id = u.id 
					where 
					state = 3 and 
					b.id in ('2') and 
					devote_id =1 and 
					borrow_user_id is not null
					group by borrow_user_id
				
[20.05.2013 - 10:51:00][!WARNING!] - return_confirm_all:1000copy@gmail.com,追风筝的人,from 
[20.05.2013 - 10:51:00][!WARNING!] - select notify from user where email ='1000copy@gmail.com'
[20.05.2013 - 10:51:00][!WARNING!] - books:Array
[20.05.2013 - 10:51:00][!WARNING!] - 
					insert into borrow (devote_user_id,borrow_user_id,is_return)
					values(1,1,1)
[20.05.2013 - 10:51:00][!WARNING!] - SELECT LAST_INSERT_ID()
[20.05.2013 - 10:51:00][!WARNING!] - 
						insert into borrow_detail(borrow_id,book_id)
						values(9,2)
[20.05.2013 - 10:51:00][!WARNING!] - update book set state = 0 ,borrow_user_id = null 
						where state = 3 and devote_id ='1'
[20.05.2013 - 10:51:00][!WARNING!] - select count(1) from (
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		) balias
[20.05.2013 - 10:51:00][!WARNING!] - 
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		 limit 0,10
[20.05.2013 - 10:51:51][!WARNING!] - select count(1) from (
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		) balias
[20.05.2013 - 10:51:51][!WARNING!] - 
			select b.id ,b.title ,u.email,b.devote_id,b.state ,u1.email as borrow_email
			from book b 
			left join user u on b.devote_id = u.id 
			left join user u1 on b.borrow_user_id = u1.id 
			where u1.id = 1 and state= 3 
		 limit 0,10
[20.05.2013 - 10:51:53][!WARNING!] - select title from book where id=''
[20.05.2013 - 10:51:53][!WARNING!] - exception 'Exception' in /Users/lcjun/bbm.up2run.com/config.inc.php:160
Stack trace:
#0 /Users/lcjun/bbm.up2run.com/config.inc.php(149): DB->db_check(0)
#1 /Users/lcjun/bbm.up2run.com/config.inc.php(152): DB->num_rows(Resource id #9)
#2 /Users/lcjun/bbm.up2run.com/book_borrow.php(10): DB->is_empty(Resource id #9)
#3 {main}
[20.05.2013 - 10:52:04][!WARNING!] - select count(*) from book where borrow_user_id = 1 and state = 1
[20.05.2013 - 10:52:04][!WARNING!] - select count(*) from book where borrow_user_id = 1 and state = 2
[20.05.2013 - 10:52:04][!WARNING!] - select count(*) from book where borrow_user_id = 1 and state = 3
[20.05.2013 - 10:52:04][!WARNING!] - select count(*) from book where borrow_user_id = 1 and state = 4
[20.05.2013 - 10:52:04][!WARNING!] - select count(*) from book where devote_id = 1 and state = 2
[20.05.2013 - 10:52:04][!WARNING!] - select count(*) from book where devote_id = 1 and state = 3
[20.05.2013 - 10:52:04][!WARNING!] - select count(*) from book where devote_id = 1 and state = 4
[20.05.2013 - 10:52:04][!WARNING!] - select count(*) 
				from borrow  b left join borrow_detail d 
				on b.id = d.borrow_id 
				where is_return = 0 
[20.05.2013 - 10:52:04][!WARNING!] - select count(*) 
				from borrow  b left join borrow_detail d 
				on b.id = d.borrow_id 
				where is_return = 1 
[20.05.2013 - 11:00:39][!WARNING!] - select count(*) from book where borrow_user_id = 1 and state = 1
[20.05.2013 - 11:00:39][!WARNING!] - select count(*) from book where borrow_user_id = 1 and state = 2
[20.05.2013 - 11:00:40][!WARNING!] - select count(*) from book where borrow_user_id = 1 and state = 3
[20.05.2013 - 11:00:40][!WARNING!] - select count(*) from book where borrow_user_id = 1 and state = 4
[20.05.2013 - 11:00:40][!WARNING!] - select count(*) from book where devote_id = 1 and state = 2
[20.05.2013 - 11:00:40][!WARNING!] - select count(*) from book where devote_id = 1 and state = 3
[20.05.2013 - 11:00:40][!WARNING!] - select count(*) from book where devote_id = 1 and state = 4
[20.05.2013 - 11:00:40][!WARNING!] - select count(*) 
				from borrow  b left join borrow_detail d 
				on b.id = d.borrow_id 
				where is_return = 0 
[20.05.2013 - 11:00:40][!WARNING!] - select count(*) 
				from borrow  b left join borrow_detail d 
				on b.id = d.borrow_id 
				where is_return = 1 
